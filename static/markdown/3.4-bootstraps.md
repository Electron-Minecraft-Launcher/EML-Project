# Bootstraps (self-updater)

> [!WARNING]
> **Experimental Feature** <br>
> The Bootstraps management feature is currently experimental.
> Improper use of this feature can break the launcher for all your players (e.g., creating an update loop or pushing a broken executable).
> Always test your new bootstrap on a separate environment before uploading it here.

The **Bootstraps** section allows you to manage the updates of the launcher software itself (the executable file), distinct from the game files.

When you fix a bug in your Electron code or change the design of the launcher interface, you generate a new executable. This page allows you to distribute that new version to all your players automatically.

![Bootstraps page overview](/static/img/bootstraps.png)

## How it works

EML-Lib-based Launchers includes a "self-updater" module called Bootstraps. The logic relies on the version number defined on this page.

1. The player launches the launcher.
2. The launcher compares its internal version (from its `package.json`) with the version displayed on this page.
3. If the server version is higher, the launcher downloads the bootstrap file corresponding to the player's operating system (Windows, macOS, or Linux).
4. The launcher installs the update and restarts.

## Managing Bootstraps

### Editing Bootstraps

The dashboard displays the current configuration: the target version and the files currently available for download for each platform.

To update the launcher or change the files, hover over the section and click the edit button (<i class="fa-solid fa-ellipsis"></i>).

![Change bootstraps and version modal](/static/img/bootstraps-edit.png)

* **New version:** This field is the most critical setting. You must enter a version number strictly higher than the previous one to trigger an update for your players. This version number **must match** the `version` defined in the `package.json` of the executable files you are uploading.<br>
*Example:* If you upload a launcher built with version `1.0.3`, you must enter `1.0.3` in this field. If you enter `1.0.4`, players will enter an infinite update loop.

* **Bootstraps files:** You can upload the executable files for each operating system. Because Bootstraps displays one single version number, you must upload all three files (Windows, macOS, Linux) for each version, even if you only changed one of them (and all the new files must be consistent with the version number). <br>
  * Windows bootstrap: `.exe`, `.msi`, `.msix`, `.appx`, `.appxbundle`, `.appinstaller`.
  * macOS bootstrap: `.dmg`, `.app`, `.pkg`, `.zip`, `.tar.gz`.
  * Linux bootstrap: `.deb`, `.rpm`, `.freebsd`, `.AppImage`, `.tar.gz`, `.7z`, `.zip`, `.sh`, `.snap`.

Click "Save" to apply changes. The upload process may take some time depending on your connection speed and the file size.

> [!TIP]
> You can download the currently uploaded bootstrap files by clicking the download icon (<i class="fa-solid fa-cloud-arrow-down"></i>) next to each file name.

> [!WARNING]
> **Known issue** <br>
> If the files are too large, the upload may fail. This issue will be fixed in future releases.

### Deleting files

If you want to remove a specific bootstrap (for example, to stop supporting a platform temporarily), you can click the red trash icon (<i class="fa-solid fa-trash"></i>) next to the file name in the main view.

## Important Guidelines

### Files Updater vs. Bootstraps
Do not confuse the two:
* **Files Updater:** Updates the **game** (mods, configs, Minecraft version). Use this 99% of the time.
* **Bootstraps:** Updates the **launcher** (the Electron app, the design, the login logic). Use this only when you release a new version of your software.

### Avoiding Infinite Loops
If you upload a Bootstrap that has a version mismatch, users might get stuck in an "Update -> Restart -> Update -> Restart" loop.

**Safety Checklist:**
1. **Version number:** Ensure the version in the "New version" field matches the version inside the uploaded files.
2. **Test locally:** Before uploading here, try installing the new `.exe` manually on a test PC to ensure it opens correctly.